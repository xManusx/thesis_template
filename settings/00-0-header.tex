%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Header
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%
% Margin
%%%%%%%%%
\usepackage{setspace}
\usepackage{anysize}
%set the marginsize: top, bottom, left, right
\marginsize{3cm}{3cm}{2cm}{2cm}


%%%%%%%%%
% Languages
%%%%%%%%%
%All languages used in the thesis should be given here
%The default language comes last, in this case: american
\usepackage[%
ngerman
,british
,american
]{babel}


%%%%%%%%%
% Encoding
%%%%%%%%%
%Load superior font and input encoding
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}


%%%%%%%%%
% Font
%%%%%%%%%
%Following packages load fonts, choose one of each class


%serif
%%%%%%
%\usepackage{mathptmx}
%\usepackage[libertine,cmintegrals,cmbraces,vvarbb]{newtxmath}
%\usepackage[sc]{mathpazo}
%\usepackage[bitstream-charter]{mathdesign}
%\usepackage{lmodern}
\usepackage{kpfonts} \linespread{1.01}

%sans serif
%%%%%%%
\usepackage[scaled=0.9]{helvet}

%Monospace/Typewriter
%%%%%%
%\usepackage{courier}
\usepackage[scaled=0.95]{inconsolata}


%%%%%%
%Load various packages
%%%%%%
% Graphics
\usepackage{graphicx} %Provides \includegraphics and stuff
\usepackage{float}
\graphicspath{{images/}} % no need to specify full path for graphics: only provide name


% Math stuff
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{nicefrac} %provides \nicefrac{2}{3} which produces nice fractures


%Provides environments for typesetting code and similar
%\usepackage{listings}
%\lstset{
	%breaklines = true, 
	%basicstyle = \ttfamily %Use typewriter font
%}
%\lstMakeShortInline[columns=fixed]| %Can be used for inline code, surrounded by '|': Blabla |Some Code| blabla
%If this produces an overfull hbox, place each word of the code |individually| |into| |the| |environment|


% Links within pdf file
\usepackage{hyperref}
\hypersetup{
	unicode=true,
	colorlinks=true,
	linkcolor=black,
	citecolor=black,
	filecolor=black,
	urlcolor=black,
	breaklinks=true,
	bookmarksnumbered=true,
	draft=false,
	pdfstartpage={1},
        % adapt following lines if you want these items to show in pdf
        % otherwise remove
	pdftitle={[\yourtitle]}
	pdfsubject={[Master Thesis]},
	pdfauthor={[Magnus Berendes]}
}

\usepackage{cleveref}
% Figure captions
\usepackage{caption}
\captionsetup{font=small,labelfont=bf}


% Fancy toc title
%\renewcommand{\contentsname}{CONTENTS}

% Fancy header and footer
\usepackage{fancyhdr}

% Fancy chapter page
\makeatletter
\def\@makechapterhead#1{
  \vspace*{100\p@}
  {\parindent \z@ 
    {\raggedleft
      \fontsize{15ex}{15ex}
      \textsf\thechapter\par\nobreak}
    \par\nobreak
    \interlinepenalty\@M
    {\raggedright \Huge \textsf{\textsc{#1}}}
    \par\nobreak
    \leavevmode \leaders \hrule height 0.65ex \hfill \kern \z@
    \par\nobreak
    \vskip 100\p@
  }
}
\makeatother

%Fancy chapter* page


% No headers on empty pages before new chapter
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
  \hbox{}
  \thispagestyle{empty}
  \newpage
  \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother 

\clearpage{\pagestyle{empty}\cleardoublepage}

% Fancy header / footer for chapter pages
\fancypagestyle{plain}{
	\fancyhf{}
	\renewcommand{\headrulewidth}{0pt}
	\fancyfoot[LE,RO]{\thepage}
}

% Fancy header / footer for normal pages
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[LE,RO]{\thepage}
\fancyhead[RO]{\leftmark}
\fancyhead[LE]{\rightmark}

% No indent for paragraphs
\setlength{\parskip}{1.3ex plus 0.2ex minus 0.2ex}
\setlength{\parindent}{0pt}


\usepackage{ifdraft}


\usepackage[style = numeric-comp,  backend = biber, urldate=long,maxbibnames=99]{biblatex}
%\addbibresource{mybib.bib}



% for sample text, can be removed in production version
\usepackage{blindtext}

%provides \enquote{...} which is used for citations: \enquote{Alle Verhältnisse umzuwerfen, in denen der Mensch ein erniedrigtes, ein geknechtetes, ein verlassenes, ein verächtliches Wesen ist}
\usepackage[autostyle=true]{csquotes}

%Some definitions for u.A., z.B., e.g., i.e., ->, => with a nice tiny space between both letters
%These will eat the whitespace behind them, so \zb{} use them like this with {}
\def\ua{u.\,A.}
\def\zb{z.\,B.}
\def\eg{e.\,g.}
\def\ie{i.\,e.}
\def\ra{$\rightarrow$}
\def\Ra{$\Rightarrow$}

%Provdes macros for typesetting units (eg, \si{\meter}) and numbers (\num{1000000}) or both together (\SI{<value>}{<unit>})
\usepackage[binary-units=true]{siunitx}
\sisetup{group-separator = {,}} %How groups of thousands are separated, default is short space, here it is set to ,


%Provides powerful acronym  environment, see include/acros.tex
\usepackage{relsize} %for resizing acros
\usepackage[
	sort=true %sort list of abbreviations
	,single=true, 
	%,list-name={List of Abbreviations}
	,list-style=longtable %needed for long list of abbreviations spanning multiple pages
	,list-caps=true %Capitalize first word of long form in list of abbreviations
	,short-format={\scshape\small} %short format is in small caps and typeset a bit smaller than surrounding texts, looks much better
	,list-short-format = {\bfseries} %Short form in list is printed bold
]
{acro}




%Used for \todo{Whatever you have to do} command, which produces a note pointing to the location where you used the command
\setlength{\marginparwidth}{2cm}
\usepackage[
	obeyDraft %Only when option draft is active, when draft is not given, the package is disabled completely
	,textwidth=0.9\marginparwidth %to provide writing over the margin
	,textsize=footnotesize %Small text so more space for text
	,bordercolor=red
	,linecolor=red
	,backgroundcolor=white
	,shadow
	,figwidth=0.75\linewidth
]{todonotes}



%Black magic microtyping fuckery. Options are explained below.
\usepackage[draft=false,activate={true,nocompatibility},final,tracking=true,kerning=true,spacing=true,factor=1100,stretch=10,shrink=10]{microtype}
\DeclareMicrotypeSet*[tracking]{my}% 
	{ font = */*/*/sc/* }% 
\SetTracking{ encoding = *, shape = sc }{ 45 }
% activate={true,nocompatibility} - activate protrusion and expansion
% final - enable microtype; use "draft" to disable
% tracking=true, kerning=true, spacing=true - activate these techniques
% factor=1100 - add 10% to the protrusion amount (default is 1000)
% stretch=10, shrink=10 - reduce stretchability/shrinkability (default is 20/20)


%Prevents widows and clubs (Schusterjungen und Hurenkinder)
\usepackage[all]{nowidow}


